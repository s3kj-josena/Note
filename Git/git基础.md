**初始化一个Git仓库:**使用     git    init     命令。

**添加文件到Git仓库,分两步:**

* 第一步,使用命令     git    add    &lt;file&gt;,注意,可反复多次使用,添加多个文件;

* 第二步,使用命令     git    commit     ,完成。

**要随时掌握工作区的状态:**使用 git    status命令

* 如果 git    status 告诉你有文件被修改过,用 git diff  可以查看修改内容

**版本回退：**

* HEAD指向的版本就是当前版本,因此,Git允许我们在版本的历史之间穿梭,使用命令 git reset --hard    commit\_id    
* 穿梭前,用 git    log 可以查看提交历史,以便确定要回退到哪个版本
* 要重返未来,用 git    reflog 查看命令历史,以便确定要回到未来的哪个版本

**工作区和暂存区：**

* git add 命令实际上就是把要提交的所有修改放到暂存区\(Stage\)
* 然后,执行 git commit 就可以一次性把暂存区的所有修改提交到分支

**管理修改：**

* 每次修改，如果不add到暂存区，就不会加入到commit中

**撤销修改：**

* 场景1:当你改乱了工作区某个文件的内容,想直接丢弃工作区的修改时,用命令 git checkout -- file

* 场景2:当你不但改乱了工作区某个文件的内容,还添加到了暂存区时,想丢弃修改,分两步,第一步用命令 git reset HEAD file ,就回到了场景1,第二步按场景1操作

* 场景3:已提交了不合适的修改到版本库,想要撤销本次提交,参考版本回退一节,不过前提是没有推送到远程库

**删除文件：**

* 命令 git rm 用于删除一个文件

**远程仓库**

1. **添加远程库：**

2. 要关联一个远程库,使用命令 git remote add origin git@server-name:path/repo-name.git

```
git remote add origin git@github.com:s3kj-josena/learngit.git
```

* 关联后,使用命令 git push -u origin master 第一次推送master分支的所有内容
* 此后,每次本地提交后,只要有必要,就可以使用命令 git push origin master 推送最新修改

  1. **从远程库克隆：**

```
git clone git@github.com:s3kj-josena/server-name.git
git clone http://github.com/s3kj-josena/server-name.git
```

**分支管理：**

1. **创建与合并分支 **

![](/assets/Git.png)![](/assets/Git1.png)

master 指向提交，HEAD 指向当前分支。

```
查看当前分支：git branch
                该命令会列出所有分支，当前分支前面会标一个*号
创建分支：git branch dev
切换分支：git checkout master ————> 切换回主分支
创建+切换分支：git checkout -b dev
                创建并切换到该分支，相当于git branch dev加上git checkout dev.
合并某分支到当前分支：git merge dev
删除分支：git branch -d dev
```

   2. **解决冲突：**

       当Git无法自动合并分支时,就必须首先解决冲突。解决冲突后,再提交,合并完成。

       用 git log --graph 命令可以看到分支合并图。

```
git log --graph --pretty=oneline --abbrev-commit
```

   3.**分支管理策略：**

       通常，合并分支时，Git 会用 Fast forward 模式，但这种模式下删除分支会丢掉分支信息

       如果要强制禁用 Fast forward 模式，Git 就会在 merge 时生成一个新的 commit 

       这样，从分支历史上就可以看出分支信息

```
合并：git merge --no-ff -m "merge with no-ff" dev
                --no-ff 参数表示禁用 Fast forward 模式
                因为本次sf

```

   4.**Bug 分支：**

       

   5.**Feature 分支：**

       

   6.**多人协作：**

       



、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、、

如果两个平行宇宙互不干扰,那对现在的你也没啥影响。不过,在某个时间点,两

个平行宇宙合并了,结果,你既学会了Git又学会了SVN!

分支在实际中有什么用呢?假设你准备开发一个新功能,但是需要两周才能完成,

第一周你写了50%的代码,如果立刻提交,由于代码还没写完,不完整的代码库会

导致别人不能干活了。如果等代码全部写完再一次提交,又存在丢失每天进度的巨

大风险。

现在有了分支,就不用怕了。你创建了一个属于你自己的分支,别人看不到,还继

续在原来的分支上正常工作,而你在自己的分支上干活,想提交就提交,直到开发

完毕后,再一次性合并到原来的分支上,这样,既安全,又不影响别人工作。

其他版本控制系统如SVN等都有分支管理,但是用过之后你会发现,这些版本控制

系统创建和切换分支比蜗牛还慢,简直让人无法忍受,结果分支功能成了摆设,大

家都不去用。

但Git的分支是与众不同的,无论创建、切换和删除分支,Git在1秒钟之内就能完

成!无论你的版本库是1个文件还是1万个文件。



